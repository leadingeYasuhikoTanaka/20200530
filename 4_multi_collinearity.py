"""
基礎集計：元データ（訓練データ全部）の多重共線性のチェック
"""

# ライブラリのインポート
import pandas as pd

# 定数の初期化
data_folder = '.\\data\\'
train_file_name = 'train_dummies_final.tsv'

train_file_path = data_folder + train_file_name

# 訓練データのロード
train = pd.read_table(train_file_path, encoding='UTF8')

# 多重共線性確認
pd.set_option('display.max_columns', 100)
df1 = pd.DataFrame(train)
df2 = df1.drop('survived', axis=1)
print(df2.corr())

'''
                  id    pclass       age     sibsp   sibsp_2     parch  \
id          1.000000 -0.059345  0.116495 -0.020491 -0.100682 -0.031417
pclass     -0.059345  1.000000 -0.300686  0.069857  0.137014 -0.015726
age         0.116495 -0.300686  1.000000 -0.283126 -0.303899 -0.153382
sibsp      -0.020491  0.069857 -0.283126  1.000000  0.821359  0.423522
sibsp_2    -0.100682  0.137014 -0.303899  0.821359  1.000000  0.336058
parch      -0.031417 -0.015726 -0.153382  0.423522  0.336058  1.000000
fare        0.077649 -0.549651  0.098488  0.164773  0.133062  0.241855
sex_female -0.033435 -0.193761 -0.072899  0.097883  0.014175  0.220046
sex_male    0.033435  0.193761  0.072899 -0.097883 -0.014175 -0.220046
embarked_C -0.012297 -0.207779  0.004219 -0.074573 -0.103395 -0.014436
embarked_Q -0.057030  0.252136 -0.018107 -0.095163 -0.031498 -0.129345
embarked_S  0.047361  0.034011 -0.015860  0.129479  0.111351  0.099990

                fare  sex_female  sex_male  embarked_C  embarked_Q  embarked_S
id          0.077649   -0.033435  0.033435   -0.012297   -0.057030    0.047361
pclass     -0.549651   -0.193761  0.193761   -0.207779    0.252136    0.034011
age         0.098488   -0.072899  0.072899    0.004219   -0.018107   -0.015860
sibsp       0.164773    0.097883 -0.097883   -0.074573   -0.095163    0.129479
sibsp_2     0.133062    0.014175 -0.014175   -0.103395   -0.031498    0.111351
parch       0.241855    0.220046 -0.220046   -0.014436   -0.129345    0.099990
fare        1.000000    0.168935 -0.168935    0.219983   -0.146377   -0.105108
sex_female  0.168935    1.000000 -1.000000    0.102369    0.055430   -0.137247
sex_male   -0.168935   -1.000000  1.000000   -0.102369   -0.055430    0.137247
embarked_C  0.219983    0.102369 -0.102369    1.000000   -0.143993   -0.764582
embarked_Q -0.146377    0.055430 -0.055430   -0.143993    1.000000   -0.510059
embarked_S -0.105108   -0.137247  0.137247   -0.764582   -0.510059    1.000000

'''
